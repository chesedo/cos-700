\documentclass[a4paper,10pt]{article}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[dvipsnames]{xcolor}
\usepackage[pdftex]{graphicx}
\usepackage{listings}
\usepackage{lmodern}
\usepackage{mdframed}
\usepackage{url}

\usepackage{keyval}

\usepackage{fancyref}
\usepackage{minted}

\DeclareGraphicsRule{*}{mps}{*}{}

\newenvironment{code}[3][ht]
 {\VerbatimEnvironment
  \begin{listing}[#1]
  \caption{#2}\label{lst:#3}
  \begin{minted}[
    breaklines,
    escapeinside=||,
    linenos,
    xleftmargin=21pt
    ]{rust}}
 {\end{minted}\end{listing}}

\makeatletter

\define@key{embed}{pos}{\def\e@pos{#1}}
\define@key{embed}{firstline}{\def\e@firstline{#1}}
\define@key{embed}{lastline}{\def\e@lastline{#1}}

\setkeys{embed}{pos=ht,firstline=1,lastline=-1}
  
\newcommand{\embed}[3][]
 {\begingroup
  \setkeys{embed}{#1}
  \expandafter\listing\expandafter[\e@pos]
  \caption{#2}\label{lst:#3}
  \inputminted[
    autogobble,
    breaklines,
    linenos,
    firstline={\e@firstline},
    lastline={\e@lastline},
    firstnumber=1,
    xleftmargin=21pt
    ]{rust}{Code/#3/src/main.rs}
  \endlisting
  \endgroup}

\makeatother

\newcommand*{\fancyreflstlabelprefix}{lst}
\frefformat{vario}{\fancyreflstlabelprefix}{listing\fancyrefdefaultspacing#1#3}
\Frefformat{vario}{\fancyreflstlabelprefix}{Listing\fancyrefdefaultspacing#1#3}

\newmdenv[linecolor=BlueGreen,frametitle=Note,frametitlebackgroundcolor=BlueGreen!40!]{notebox}

\title
{
   \includegraphics[width=12cm]{up_logo.png} \\
   \vspace{2cm}
   \textbf{COS700 Research} \\ \vspace{0.5cm}
   \textbf{Design Pattern Metaprogramming Foundations in Rust\\ \large Abstract Factory and Visitor} \\ \vspace{0.5cm}
   \textbf{Student number:} u19239395 \\ \vspace{0.5cm}
   \textbf{Supervisor}: \\ Dr. Linda Marshall
}

\date{??? 2020}
\begin{document}
\author{}

\maketitle

\newpage
\linespread{1.25}

\section*{Abstract}

\section*{Keywords:}

\newpage

\section{Introduction}

\input{Sections/DesignPatterns.tex}
\input{Sections/Metaprogramming.tex}
\input{Sections/Rust.tex}

\section{Reporting}

\section{Conclusion}


\bibliographystyle{alpha}
\bibliography{References}

\end{document}